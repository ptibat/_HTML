/**
* Fonctions Javascript equivalente aux fonctions PHP
* SOURCES :
* strtotime : http://locutus.io/php/datetime/strtotime/
* date : http://locutus.io/php/datetime/date/
*/
php_strtotime=function(r,d){var n;var j;var o;var m;var f;var q;var b;var k;var a;var p;var h;var e=false;if(!r){return e}r=r.replace(/^\s+|\s+$/g,"").replace(/\s{2,}/g," ").replace(/[\t\r\n]/g,"").toLowerCase();var l=new RegExp(["^(\\d{1,4})","([\\-\\.\\/:])","(\\d{1,2})","([\\-\\.\\/:])","(\\d{1,4})","(?:\\s(\\d{1,2}):(\\d{2})?:?(\\d{2})?)?","(?:\\s([A-Z]+)?)?$"].join(""));j=r.match(l);if(j&&j[2]===j[4]){if(j[1]>1901){switch(j[2]){case"-":if(j[3]>12||j[5]>31){return e}return new Date(j[1],parseInt(j[3],10)-1,j[5],j[6]||0,j[7]||0,j[8]||0,j[9]||0)/1000;case".":return e;case"/":if(j[3]>12||j[5]>31){return e}return new Date(j[1],parseInt(j[3],10)-1,j[5],j[6]||0,j[7]||0,j[8]||0,j[9]||0)/1000}}else{if(j[5]>1901){switch(j[2]){case"-":if(j[3]>12||j[1]>31){return e}return new Date(j[5],parseInt(j[3],10)-1,j[1],j[6]||0,j[7]||0,j[8]||0,j[9]||0)/1000;case".":if(j[3]>12||j[1]>31){return e}return new Date(j[5],parseInt(j[3],10)-1,j[1],j[6]||0,j[7]||0,j[8]||0,j[9]||0)/1000;case"/":if(j[1]>12||j[3]>31){return e}return new Date(j[5],parseInt(j[1],10)-1,j[3],j[6]||0,j[7]||0,j[8]||0,j[9]||0)/1000}}else{switch(j[2]){case"-":if(j[3]>12||j[5]>31||(j[1]<70&&j[1]>38)){return e}m=j[1]>=0&&j[1]<=38?+j[1]+2000:j[1];return new Date(m,parseInt(j[3],10)-1,j[5],j[6]||0,j[7]||0,j[8]||0,j[9]||0)/1000;case".":if(j[5]>=70){if(j[3]>12||j[1]>31){return e}return new Date(j[5],parseInt(j[3],10)-1,j[1],j[6]||0,j[7]||0,j[8]||0,j[9]||0)/1000}if(j[5]<60&&!j[6]){if(j[1]>23||j[3]>59){return e}o=new Date();return new Date(o.getFullYear(),o.getMonth(),o.getDate(),j[1]||0,j[3]||0,j[5]||0,j[9]||0)/1000}return e;case"/":if(j[1]>12||j[3]>31||(j[5]<70&&j[5]>38)){return e}m=j[5]>=0&&j[5]<=38?+j[5]+2000:j[5];return new Date(m,parseInt(j[1],10)-1,j[3],j[6]||0,j[7]||0,j[8]||0,j[9]||0)/1000;case":":if(j[1]>23||j[3]>59||j[5]>59){return e}o=new Date();return new Date(o.getFullYear(),o.getMonth(),o.getDate(),j[1]||0,j[3]||0,j[5]||0)/1000}}}}if(r==="now"){return d===null||isNaN(d)?new Date().getTime()/1000|0:d|0}if(!isNaN(n=Date.parse(r))){return n/1000|0}l=new RegExp(["^([0-9]{4}-[0-9]{2}-[0-9]{2})","[ t]","([0-9]{2}:[0-9]{2}:[0-9]{2}(\\.[0-9]+)?)","([\\+-][0-9]{2}(:[0-9]{2})?|z)"].join(""));j=r.match(l);if(j){if(j[4]==="z"){j[4]="Z"}else{if(j[4].match(/^([+-][0-9]{2})$/)){j[4]=j[4]+":00"}}if(!isNaN(n=Date.parse(j[1]+"T"+j[2]+j[4]))){return n/1000|0}}f=d?new Date(d*1000):new Date();q={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};b={yea:"FullYear",mon:"Month",day:"Date",hou:"Hours",min:"Minutes",sec:"Seconds"};function g(u,t,i){var v;var s=q[t];if(typeof s!=="undefined"){v=s-f.getDay();if(v===0){v=7*i}else{if(v>0&&u==="last"){v-=7}else{if(v<0&&u==="next"){v+=7}}}f.setDate(f.getDate()+v)}}function c(w){var x=w.split(" ");var u=x[0];var i=x[1].substring(0,3);var v=/\d+/.test(u);var t=x[2]==="ago";var s=(u==="last"?-1:1)*(t?-1:1);if(v){s*=parseInt(u,10)}if(b.hasOwnProperty(i)&&!x[1].match(/^mon(day|\.)?$/i)){return f["set"+b[i]](f["get"+b[i]]()+s)}if(i==="wee"){return f.setDate(f.getDate()+(s*7))}if(u==="next"||u==="last"){g(u,i,s)}else{if(!v){return false}}return true}a="(years?|months?|weeks?|days?|hours?|minutes?|min|seconds?|sec|sunday|sun\\.?|monday|mon\\.?|tuesday|tue\\.?|wednesday|wed\\.?|thursday|thu\\.?|friday|fri\\.?|saturday|sat\\.?)";p="([+-]?\\d+\\s"+a+"|(last|next)\\s"+a+")(\\sago)?";j=r.match(new RegExp(p,"gi"));if(!j){return e}for(h=0,k=j.length;h<k;h++){if(!c(j[h])){return e}}return(f.getTime()/1000)};
php_date=function(i,g){var h,e;var c=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December"];var b=/\\?(.?)/gi;var a=function(f,k){return e[f]?e[f]():k};var d=function(k,f){k=String(k);while(k.length<f){k="0"+k}return k};e={d:function(){return d(e.j(),2)},D:function(){return e.l().slice(0,3)},j:function(){return h.getDate()},l:function(){return c[e.w()]+"day"},N:function(){return e.w()||7},S:function(){var f=e.j();var k=f%10;if(k<=3&&parseInt((f%100)/10,10)===1){k=0}return["st","nd","rd"][k-1]||"th"},w:function(){return h.getDay()},z:function(){var k=new Date(e.Y(),e.n()-1,e.j());var f=new Date(e.Y(),0,1);return Math.round((k-f)/86400000)},W:function(){var k=new Date(e.Y(),e.n()-1,e.j()-e.N()+3);var f=new Date(k.getFullYear(),0,4);return d(1+Math.round((k-f)/86400000/7),2)},F:function(){return c[6+e.n()]},m:function(){return d(e.n(),2)},M:function(){return e.F().slice(0,3)},n:function(){return h.getMonth()+1},t:function(){return(new Date(e.Y(),e.n(),0)).getDate()},L:function(){var f=e.Y();return f%4===0&f%100!==0|f%400===0},o:function(){var l=e.n();var f=e.W();var k=e.Y();return k+(l===12&&f<9?1:l===1&&f>9?-1:0)},Y:function(){return h.getFullYear()},y:function(){return e.Y().toString().slice(-2)},a:function(){return h.getHours()>11?"pm":"am"},A:function(){return e.a().toUpperCase()},B:function(){var k=h.getUTCHours()*3600;var f=h.getUTCMinutes()*60;var l=h.getUTCSeconds();return d(Math.floor((k+f+l+3600)/86.4)%1000,3)},g:function(){return e.G()%12||12},G:function(){return h.getHours()},h:function(){return d(e.g(),2)},H:function(){return d(e.G(),2)},i:function(){return d(h.getMinutes(),2)},s:function(){return d(h.getSeconds(),2)},u:function(){return d(h.getMilliseconds()*1000,6)},e:function(){var f="Not supported (see source code of date() for timezone on how to add support)";throw new Error(f)},I:function(){var k=new Date(e.Y(),0);var m=Date.UTC(e.Y(),0);var f=new Date(e.Y(),6);var l=Date.UTC(e.Y(),6);return((k-m)!==(f-l))?1:0},O:function(){var k=h.getTimezoneOffset();var f=Math.abs(k);return(k>0?"-":"+")+d(Math.floor(f/60)*100+f%60,4)},P:function(){var f=e.O();return(f.substr(0,3)+":"+f.substr(3,2))},T:function(){return"UTC"},Z:function(){return -h.getTimezoneOffset()*60},c:function(){return"Y-m-d\\TH:i:sP".replace(b,a)},r:function(){return"D, d M Y H:i:s O".replace(b,a)},U:function(){return h/1000|0}};var j=function(k,f){h=(f===undefined?new Date():(f instanceof Date)?new Date(f):new Date(f*1000));return k.replace(b,a)};return j(i,g)};
